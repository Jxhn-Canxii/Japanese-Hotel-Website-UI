import{_ as P,r as p,f as V,c as d,a as e,b as m,k as $,v as j,n as A,F as D,g as L,i as u,y as N,h as g,V as w,o as i,u as f,t as _,d as y,l as R,S,m as I}from"./kLS1Tq6J.js";import{BearToken as b,handleApiError as k,moneyFormatter as E,useDebounce as F,Alerto as M}from"./Bk09pi9Z.js";import{B as U}from"./CmaUIZXt.js";import Y from"./oJSr6Ipp.js";import z from"./XGzeqAYc.js";import{P as q}from"./mKZRvi_9.js";import{L as G}from"./Br1lBDKu.js";import"./D7zVMy9I.js";import"./CufzUKGR.js";import"./WDemypGc.js";/* empty css        */const H={class:"flex flex-col space-y-6 p-6 min-h-screen"},J={class:"flex items-center justify-between"},K={class:"flex flex-col md:flex-row md:justify-between mb-4"},O={class:"space-y-4 shadow rounded"},Q={class:"flex items-center space-x-4 w-full"},W=["src","alt"],X={class:"flex flex-col w-full"},Z={class:"font-semibold text-lg capitalize"},ee={class:"text-sm text-gray-600"},te={class:"mt-2"},se={class:"text-xl font-semibold text-emerald-600"},oe={class:"flex space-x-2 items-center"},ae=["onClick"],ne={key:1,class:"flex justify-center items-center p-4"},re={key:2,class:"flex justify-center items-center p-4"},le={class:"flex w-full overflow-auto"},ie={__name:"index",setup(ce){const n=p([]),r=p(!1),a=p({search:"",page_num:1,itemsperpage:10}),c=async()=>{try{r.value=!0;const o=await g.post(`${w}roomtypes/list`,a.value,b());n.value=o.data,r.value=!1}catch(o){r.value=!1,k(o)}},x=o=>{console.log(o),a.value.page_num=o??1,c()},B=F(async()=>{a.value.page_num=1,await c(),x(1)}),v=()=>{console.log("reloaded"),c()},C=async o=>{if((await S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const l=await g.post(`${w}roomtypes/delete`,{room_id:o.id},b());M("success","Success",l.data.message),c()}catch(l){console.log(l),k(l)}};return V(()=>{c()}),(o,t)=>{var h;const l=I;return i(),d("div",H,[e("div",J,[m(U,{page:"Rooms"})]),e("div",K,[$(e("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.search=s),onInput:t[1]||(t[1]=A(s=>f(B)(),["prevent"])),placeholder:"Search Rooms...",class:"shadow shadow-gray-700 flex w-full md:w-1/4 font-bold text-lg py-2 px-4 rounded-lg mb-4 float-end"},null,544),[[j,a.value.search]]),m(z,{onTransaction_id:v})]),e("div",O,[((h=n.value.roomtypes)==null?void 0:h.length)>0&&!r.value?(i(!0),d(D,{key:0},L(n.value.roomtypes,(s,T)=>(i(),d("div",{key:T,class:"flex hover:bg-gray-100 justify-between items-center p-4 border-b"},[e("div",Q,[e("img",{src:s.thumbnail,alt:s.title,class:"w-16 h-16 object-cover rounded-md"},null,8,W),e("div",X,[e("h3",Z,_(s.name),1),e("p",ee,_(s.shortDescription),1),e("div",te,[e("p",se,[y(_(f(E)(s.regularPrice))+" ",1),t[2]||(t[2]=e("span",{class:"text-sm text-gray-500"},"/night",-1))])])]),e("div",oe,[m(Y,{data:s,onTransaction_id:v},null,8,["data"]),e("button",{onClick:de=>C(s),class:"bg-red-500 text-white font-bold rounded text-md md:text-lg py-2 px-4 rounded-r mb-4 float-end text-nowrap"},[m(l,{icon:f(R)},null,8,["icon"]),t[3]||(t[3]=y(" Delete "))],8,ae)])])]))),128)):u("",!0),r.value?(i(),d("div",ne,[m(G)])):u("",!0),n.value.totalrows===0&&!r.value?(i(),d("div",re,t[4]||(t[4]=[e("p",{class:"text-red-500"},"***No data found***",-1)]))):u("",!0)]),e("div",le,[n.value.totalrows>0?(i(),N(q,{key:0,page_number:a.value.page_num,total_rows:n.value.totalrows,itemsperpage:a.value.itemsperpage,onPage_num:x},null,8,["page_number","total_rows","itemsperpage"])):u("",!0)])])}}},be=P(ie,[["__scopeId","data-v-aa8b0d6d"]]);export{be as default};
