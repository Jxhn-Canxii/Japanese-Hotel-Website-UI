import{r as d,c as y,a as t,b as i,u as w,d as k,n as p,w as V,F as h,m as E,o as N,q as P,k as m,v as u,h as I,V as U}from"./kLS1Tq6J.js";import{_ as R}from"./D7zVMy9I.js";import{FormDx as $,BearToken as C,Alerto as D,handleApiError as A}from"./Bk09pi9Z.js";import{_ as B}from"./CufzUKGR.js";const F={class:"grid grid-cols-1 gap-6 p-6"},L={class:"mt-4",autocomplete:"off"},M={class:"mb-4 col-span-2"},S={class:"mb-4"},T={class:"mb-4"},j={class:"mb-4"},q={class:"mb-4"},O={class:"flex justify-end"},J={__name:"EditRoom",props:{data:{type:Object,required:!0}},emits:["transaction_id"],setup(c,{emit:f}){const b=c,v=f,l=d(!1),s=d({room_id:0,room_name:"",regular_price:0,short_description:"",body:""}),r=d(!1),g=o=>{r.value=o.target.files?Array.from(o.target.files):[]},_=()=>{const o=b.data;console.log(o),s.value.room_id=o.id,s.value.room_type_name=o.name,s.value.regular_price=o.regularPrice,s.value.short_description=o.shortDescription,s.value.body=o.body},x=async()=>{try{const o=$(s.value);r.value.length>0&&r.value.forEach((n,a)=>{o.append("room_images[]",n)});const e=await I.post(`${U}roomtypes/edit`,o,C());D("success","Success",e.data.message),l.value=!1,v("transaction_id",Math.random())}catch(o){console.error(o),A(o)}};return(o,e)=>{const n=E;return N(),y(h,null,[t("button",{onClick:e[0]||(e[0]=p(a=>(l.value=!0,_()),["prevent"])),type:"button",class:"bg-yellow-500 text-white font-bold rounded text-md md:text-lg py-2 px-4 rounded-r mb-4 float-end text-nowrap"},[i(n,{icon:w(P)},null,8,["icon"]),e[7]||(e[7]=k(" Edit Room "))]),i(R,{show:l.value,maxWidth:"6xl",title:"Edit Room",onClose:e[6]||(e[6]=a=>l.value=!1)},{default:V(()=>[t("div",F,[t("form",L,[t("div",M,[e[8]||(e[8]=t("label",{for:"itemImages",class:"block text-sm font-medium text-gray-700"},"Upload Image",-1)),t("input",{type:"file",id:"itemImages",onChange:g,class:"mt-1 p-2 border rounded-md w-full",multiple:""},null,32)]),t("div",S,[e[9]||(e[9]=t("label",{for:"LeagueName",class:"block text-sm font-medium text-gray-700"},"Room",-1)),m(t("input",{type:"text",id:"ProductName","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.room_type_name=a),placeholder:"Input Room",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[u,s.value.room_type_name]])]),t("div",T,[e[10]||(e[10]=t("label",{for:"LeagueName",class:"block text-sm font-medium text-gray-700"},"Price",-1)),m(t("input",{type:"number",id:"ProductName","onUpdate:modelValue":e[2]||(e[2]=a=>s.value.regular_price=a),placeholder:"Input Price",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[u,s.value.regular_price]])]),t("div",j,[e[11]||(e[11]=t("label",{for:"LeagueName",class:"block text-sm font-medium text-gray-700"},"Short Description",-1)),m(t("input",{type:"text",id:"ProductName","onUpdate:modelValue":e[3]||(e[3]=a=>s.value.short_description=a),placeholder:"Input Short Description",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[u,s.value.short_description]])]),t("div",q,[e[12]||(e[12]=t("label",{for:"LeagueName",class:"block text-sm font-medium text-gray-700"},"Content",-1)),i(B,{modelValue:s.value.body,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.body=a)},null,8,["modelValue"])]),t("div",O,[t("button",{type:"button",onClick:e[5]||(e[5]=p(a=>x(),["prevent"])),class:"bg-blue-500 text-white font-bold py-2 px-4 rounded"}," Submit ")])])])]),_:1},8,["show"])],64)}}};export{J as default};
