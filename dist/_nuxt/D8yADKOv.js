import{r as i,c as _,a as o,b as r,u as w,d as C,n as u,w as E,F as h,m as k,o as U,q as A,k as m,v as p,h as I,V as N}from"./kLS1Tq6J.js";import{_ as V}from"./D7zVMy9I.js";import{FormDx as $,BearToken as B,Alerto as F,handleApiError as P}from"./Bk09pi9Z.js";const T={class:"grid grid-cols-1 gap-6 p-6"},M={class:"mt-4",autocomplete:"off"},D={class:"mb-4 col-span-2"},L={class:"mb-4"},j={class:"mb-4"},q={class:"flex justify-end"},R={__name:"EditContent",props:{data:{type:Object,required:!0}},emits:["transaction_id"],setup(f,{emit:c}){const b=f,v=c,l=i(!1),s=i({id:0,title:"",body:"",tab_name:"about us"}),n=i(!1),x=e=>{n.value=e.target.files?Array.from(e.target.files):[]},g=()=>{const e=b.data;console.log(e),s.value.about_us_id=e.id,s.value.title=e.title,s.value.body=e.body},y=async()=>{try{const e=$(s.value);n.value.length>0&&n.value.forEach((d,a)=>{e.append("about_us_images[]",d)});const t=await I.post(`${N}about-us/edit`,e,B());F("success","Success",t.data.message),l.value=!1,v("transaction_id",Math.random())}catch(e){console.error(e),P(e)}};return(e,t)=>{const d=k;return U(),_(h,null,[o("button",{onClick:t[0]||(t[0]=u(a=>(l.value=!0,g()),["prevent"])),type:"button",class:"bg-yellow-500 text-white font-bold rounded text-md md:text-lg py-2 px-4 rounded-r mb-4 float-end text-nowrap"},[r(d,{icon:w(A)},null,8,["icon"]),t[5]||(t[5]=C(" Edit Content "))]),r(V,{show:l.value,maxWidth:"2xl",title:"Edit About Us Content",onClose:t[4]||(t[4]=a=>l.value=!1)},{default:E(()=>[o("div",T,[o("form",M,[o("div",D,[t[6]||(t[6]=o("label",{for:"itemImages",class:"block text-sm font-medium text-gray-700"},"Upload Image",-1)),o("input",{type:"file",id:"itemImages",onChange:x,class:"mt-1 p-2 border rounded-md w-full",multiple:""},null,32)]),o("div",L,[t[7]||(t[7]=o("label",{for:"LeagueName",class:"block text-sm font-medium text-gray-700"},"Title",-1)),m(o("input",{type:"text",id:"ProductName","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.title=a),placeholder:"Input Content Title",class:"mt-1 p-2 border rounded-md w-full"},null,512),[[p,s.value.title]])]),o("div",j,[t[8]||(t[8]=o("label",{for:"LeagueName",class:"block text-sm font-medium text-gray-700"},"Content",-1)),m(o("textarea",{id:"ProductName","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.body=a),placeholder:"Input About Us Content",class:"mt-1 p-2 border rounded-md w-full h-32 resize-none"},null,512),[[p,s.value.body]])]),o("div",q,[o("button",{type:"button",onClick:t[3]||(t[3]=u(a=>y(),["prevent"])),class:"bg-blue-500 text-white font-bold py-2 px-4 rounded"}," Submit ")])])])]),_:1},8,["show"])],64)}}};export{R as default};
